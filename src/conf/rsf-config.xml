<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
  "http://www.springframework.org/dtd/spring-beans.dtd">
<!-- This file is RSF-static configuration - common and invariant to 
  all applications using RSF -->
<beans>
  <bean id="reflectivecache" class="uk.org.ponder.reflect.JDKReflectiveCache">
  </bean>
  
  <bean id="saxalizermappingcontext"
    class="uk.org.ponder.saxalizer.SAXalizerMappingContext">
    <property name="reflectiveCache">
      <ref bean="reflectivecache"/>
    </property>
  </bean>
  
  <bean id="mappablexmlprovider" class="uk.org.ponder.saxalizer.SAXalXMLProvider">
    <constructor-arg>
      <ref local="saxalizermappingcontext"/>
    </constructor-arg>
  </bean>
  
  <bean id="darapplier" class="uk.org.ponder.mapping.DARApplier">
    <property name="SAXalXMLProvider">
      <ref local="mappablexmlprovider"/>
    </property>
    <property name="reflectiveCache">
      <ref bean="reflectivecache"/>
    </property>
  </bean>
  
  <bean id="fossilizedconverter"
    class="uk.org.ponder.rsf.state.FossilizedConverter">
    <property name="SAXalXMLProvider">
      <ref bean="mappablexmlprovider"/>
    </property>
  </bean>
  
  <bean id="bindingfixer" class="uk.org.ponder.rsf.processor.BindingFixer">
    <property name="fossilizedConverter">
      <ref bean="fossilizedconverter"/>
    </property>
  </bean>
  
  <bean id="messagefixer" class="uk.org.ponder.rsf.processor.MessageFixer">
    <property name="messageLocator">
      <ref bean="messagelocator"/>
    </property>
  </bean>

  <bean id="baseurlprovider">
  </bean>
  
  <bean id="rsacresourcelocator" class="uk.org.ponder.rsac.servlet.ServletRSACResourceLocator">
  </bean>
  
  <bean id="rsacbeanfactoryfactory"
    class="uk.org.ponder.rsac.RSACBeanFactoryFactory">
    <property name="RSACResourceLocator">
      <ref local="rsacresourcelocator"/>
    </property>
  </bean>
   
  <bean id="rsacbeanlocator" factory-bean="rsacbeanfactoryfactory"
    factory-method="getRSACBeanLocator">
    <property name="reflectiveCache">
      <ref bean="reflectivecache"/>
    </property>
    <property name="mappingContext">
      <ref local="saxalizermappingcontext"/>
    </property>
  </bean>
  
  <bean id="viewparametersparser"
    class="uk.org.ponder.rsf.viewstate.SimpleViewParametersParser">
    <property name="viewParametersExemplar">
      <!-- EXTERNAL DEPENDENCY! The application supplies the view params -->
      <ref bean="viewparamsexemplar"/>
    </property>
  </bean>
  
  <bean id="rendersystemstatic"
    class="uk.org.ponder.rsf.renderer.html.BasicHTMLRenderSystemStatic">
  </bean>
  
  
  <bean id="flowtokenstateholder" class="uk.org.ponder.rsf.state.InMemoryTSH">
    <property name="expirySeconds">
      <!-- deliberately short time for testing - all flows will expire after 
      30 seconds of disuse -->
      <value>30</value>
    </property>
  </bean>
  
  <bean id="errortokenstateholder" class="uk.org.ponder.rsf.state.InMemoryTSH">
    <property name="expirySeconds">
      <!-- deliberately short time for testing - all errors will expire after 
      10 seconds of disuse -->
      <value>10</value>
    </property>
  </bean>
  
  <!-- The default ActionResultInterpreter which directs to the same view-->
  <bean id="actionresultinterpreter"
    class="uk.org.ponder.rsf.flow.NullActionResultInterpreter">
  </bean>
  
  
  
</beans>